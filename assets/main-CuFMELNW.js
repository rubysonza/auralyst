import"./styles-HTbYKsVu.js";import{g as t}from"./index-CH_iu5NA.js";const d={green:{zIndex:2,initial:{largeScreen:{x:10},smallScreen:{x:10}},fanOut:{largeScreen:{y:-35,x:-35,rotate:-14},smallScreen:{y:-30,x:-12,rotate:-8}},description:{largeScreen:{x:-110,y:-200},smallScreen:{x:0,y:-220}}},purple:{zIndex:1,initial:{largeScreen:{x:-15},smallScreen:{x:-13}},fanOut:{largeScreen:{y:-55,x:-10,rotate:2},smallScreen:{y:-50,x:-8,rotate:2}},description:{largeScreen:{x:95,y:-300},smallScreen:{x:0,y:-275}}},orange:{zIndex:3,initial:{largeScreen:{x:-27},smallScreen:{x:-25}},fanOut:{largeScreen:{y:-35,x:25,rotate:15},smallScreen:{y:-30,x:3,rotate:8}},description:{largeScreen:{x:60,y:-100},smallScreen:{x:0,y:-160}}}},e={parent:document.querySelector(".bottle-all"),allWrappers:document.querySelectorAll(".bottle-wrapper"),allBottles:document.querySelectorAll(".bottle"),allBottleLinks:document.querySelectorAll(".bottle-wrapper a"),allDescriptions:document.querySelectorAll(".description"),heroTitle:document.querySelector(".hero-title"),heroSub:document.querySelector(".hero-sub"),menuButton:document.getElementById("menu-button"),menuClose:document.getElementById("menu-close"),menuScreen:document.getElementById("menu-screen"),menuBackdrop:document.getElementById("menu-backdrop")},u=navigator.maxTouchPoints>0;let s;function f(){s=t.timeline({paused:!0,onComplete:()=>{t.set(e.allBottleLinks,{pointerEvents:"auto"}),(window.innerWidth<1024||u)&&e.allWrappers.forEach(o=>{const n=o.querySelector(".description"),a=o.dataset.bottle,i=window.innerWidth<1024?"smallScreen":"largeScreen",l=d[a].description[i];t.to(n,{opacity:1,...l,duration:.4,ease:"power2.out"})})},onReverseComplete:()=>{t.set(e.allBottleLinks,{pointerEvents:"none"})},onUpdate:()=>{e.allWrappers.forEach(o=>{const n=t.getProperty(o,"rotate"),a=o.querySelector(".description");t.set(a,{rotation:-n})})}}),t.matchMedia().add({isLargeScreen:"(min-width: 1024px)",isSmallScreen:"(max-width: 1023px)"},o=>{const n=o.conditions.isLargeScreen?"largeScreen":"smallScreen";e.allWrappers.forEach(a=>{const i=a.dataset.bottle,l=d[i].fanOut[n];s.to(a,{...l,duration:.5,ease:"back.inOut"},"<")})})}function g(){e.allWrappers.forEach(r=>{const o=r.dataset.bottle;r.style.zIndex=d[o].zIndex})}function p(){t.to(e.allDescriptions,{opacity:0,y:0,x:0,duration:.2,ease:"power2.in",onComplete:()=>{s.reverse(),g()}}),t.to(e.allBottles,{scale:1,duration:.3,overwrite:!0})}function v(r){if(u)return;const o=r.currentTarget,n=o.closest(".bottle-wrapper");if(!n)return;const a=n.querySelector(".description"),i=n.dataset.bottle,l=d[i],y=window.innerWidth<1024?"smallScreen":"largeScreen",S=l.description[y],x=window.innerWidth<1024?1.1:1.2;n.style.zIndex=50,t.to(o,{scale:x,duration:.3,ease:"back.inOut"}),t.delayedCall(.2,()=>{n.matches(":hover")&&t.fromTo(a,{opacity:0},{opacity:1,...S,duration:.4,ease:"power2.out"})})}function h(r){if(u)return;const o=r.currentTarget,n=o.closest(".bottle-wrapper");if(!n)return;const a=n.querySelector(".description"),i=n.dataset.bottle,l=d[i].zIndex;t.killTweensOf(a),t.to(o,{scale:1,duration:.4,ease:"back.inOut"}),t.to(a,{opacity:0,y:0,x:0,duration:.3,ease:"power2.in"}),n.style.zIndex=l}function b(r){u&&e.parent&&!e.parent.contains(r.target)&&p()}function w(){f(),u?(e.parent.addEventListener("click",()=>{s.progress()===0&&s.play()}),document.addEventListener("click",b)):(e.parent.addEventListener("mouseenter",()=>s.play()),e.parent.addEventListener("mouseleave",()=>{p()})),u||e.allBottles.forEach(r=>{r.addEventListener("mouseover",v),r.addEventListener("mouseout",h)})}function k(){t.set([e.heroTitle,e.heroSub],{opacity:0,y:50}),t.set(e.allWrappers,{y:200,opacity:0}),t.set(e.allBottleLinks,{pointerEvents:"none"}),t.matchMedia().add({isLargeScreen:"(min-width: 1024px)",isSmallScreen:"(max-width: 1023px)"},o=>{const n=o.conditions.isLargeScreen?"largeScreen":"smallScreen";e.allWrappers.forEach(a=>{const i=a.dataset.bottle,l=d[i];t.set(a,{x:l.initial[n].x,zIndex:l.zIndex})})}),t.timeline({onComplete:w}).to(e.allWrappers,{y:0,opacity:1,stagger:.1,duration:.4,ease:"power2.out"}).to([e.heroTitle,e.heroSub],{y:0,opacity:1,stagger:.2,duration:.4,ease:"power2.out"},"<0.3")}let c=null;function E(){if(c){c.play();return}c=t.timeline({paused:!0}),c.to(e.menuBackdrop,{opacity:1,duration:.2,onStart:()=>e.menuBackdrop.classList.remove("hidden")},0).to(e.menuScreen,{x:0,duration:.2,ease:"power2.inOut",onStart:()=>e.menuScreen.classList.remove("translate-x-full")},0),c.play()}function m(){c&&(c.reverse(),c.eventCallback("onReverseComplete",()=>{e.menuBackdrop.classList.add("hidden"),e.menuScreen.classList.add("-translate-x-full")}))}e.menuButton.addEventListener("click",E);e.menuClose.addEventListener("click",m);e.menuBackdrop.addEventListener("click",r=>{r.target===e.menuBackdrop&&m()});k();
